<template>
  <div class="demo-tree-selectable">
    <h3>ğŸŒ³ å¯é€‰æ‹©çš„æ ‘å½¢ç»„ä»¶</h3>

    <Tree
      :data="treeData"
      :defaultExpandAll="true"
      :selectable="true"
      @select="handleSelect"
    />

    <div class="demo-result">
      <p v-if="selectedNode">âœ… å·²é€‰ä¸­èŠ‚ç‚¹ï¼š{{ selectedNode.label }}</p>
      <p v-else>è¯·ç‚¹å‡»ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œé€‰æ‹©</p>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import Tree from "../../../src/components/Tree/Tree.vue"; // è¿™é‡Œæ›¿æ¢ä¸ºä½ é¡¹ç›®é‡Œçš„å®é™…è·¯å¾„
import type { TreeNodeType } from "../../../src/components/Tree/type";


// ç¤ºä¾‹æ ‘æ•°æ®
const treeData = ref<TreeNodeType[]>([
  {
    id: 1,
    label: "æ ¹èŠ‚ç‚¹ 1",
    children: [
      { id: 2, label: "å­èŠ‚ç‚¹ 1-1" },
      { id: 3, label: "å­èŠ‚ç‚¹ 1-2", disabled: true },
    ],
  },
  {
    id: 4,
    label: "æ ¹èŠ‚ç‚¹ 2",
    children: [
      { id: 5, label: "å­èŠ‚ç‚¹ 2-1" },
      { id: 6, label: "å­èŠ‚ç‚¹ 2-2" },
    ],
  },
]);

// å½“å‰é€‰ä¸­èŠ‚ç‚¹
const selectedNode = ref<TreeNodeType | null>(null);

function handleSelect(node: TreeNodeType) {
  console.log("é€‰ä¸­èŠ‚ç‚¹ï¼š", node);
  selectedNode.value = node;
}
</script>
