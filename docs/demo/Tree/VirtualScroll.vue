<template>
  <div class="demo-tree-virtual">
    <h3>ğŸŒ² è™šæ‹Ÿæ»šåŠ¨æ ‘å½¢ç»„ä»¶</h3>

    <Tree
      :data="treeData"
      :defaultExpandAll="true"
      :selectable="true"
      @select="handleSelect"
    />

    <div class="demo-result">
      <p v-if="selectedNode">âœ… å·²é€‰ä¸­èŠ‚ç‚¹ï¼š{{ selectedNode.label }}</p>
      <p v-else>è¯·ç‚¹å‡»ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œé€‰æ‹©</p>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import Tree from "../../../src/components/Tree/Tree.vue"; // è¿™é‡Œæ›¿æ¢ä¸ºä½ é¡¹ç›®é‡Œçš„å®é™…è·¯å¾„
import type { TreeNodeType } from "../../../src/components/Tree/type";


// ç”Ÿæˆä¸€ä¸ªå¤§æ•°æ®é‡çš„æ ‘ï¼ˆæ¯ä¸ªæ ¹èŠ‚ç‚¹æœ‰ 100 ä¸ªå­èŠ‚ç‚¹ï¼‰
const treeData = ref<TreeNodeType[]>([
  {
    id: "root",
    label: "æ ¹èŠ‚ç‚¹",
    children: Array.from({ length: 1000 }).map((_, i) => ({
      id: `child-${i + 1}`,
      label: `å­èŠ‚ç‚¹ ${i + 1}`,
    })),
  },
]);

// å½“å‰é€‰ä¸­èŠ‚ç‚¹
const selectedNode = ref<TreeNodeType | null>(null);

function handleSelect(node: TreeNodeType) {
  console.log("é€‰ä¸­èŠ‚ç‚¹ï¼š", node);
  selectedNode.value = node;
}
</script>


